(function(t,r){function e(t){this.observers={},this.attributes=t}var o={typeOf:function(t){return Object.prototype.toString.call(t)},isType:function(t,r){return this.typeOf(t)==="[object "+r+"]"},isInTypes:function(t,r){for(var e in r)if(this.isType(t,r[e]))return!0},objectLength:function(t){return Object.keys(t).length}};e.prototype._digest=function(t){for(var r=this,e=0,o=t.length;o>e;e++)(this.observers[t[e].name]||[]).forEach(function(o){o.call(r,t[e].object[t[e].name])})},e.prototype.parse=function(t,r,e){var o=e||".",n=r.split(o);switch(n.length){case 1:return t[n[0]];case 0:return t;default:return this.parse(t[n[0]],n.slice(0,1).join(o))}},e.prototype.get=function(t){var r=this,e=t.split(".");return{bindToDom:function(t){var o=function(o){e.length>1&&(o=r.parse(o,e.slice(1).join("."))),t.html(o)};return r.bindFunction(e[0],o),o},unbindFromDom:function(r){this.observers[t].indexOf(r);delete this.observers[t]}}},e.prototype.set=function(t,e){e?this.attributes[t]=e:r.extend(this.attributes,t)},e.prototype.bindFunction=function(t,r){this.observers[t]=this.observers[t]||[],this.observers[t].push(r),1!==o.objectLength(this.observers)||this.observing||(Object.observe(this.attributes,this._digest.bind(this)),this.observing=!0)};var n=function(t,r,e){var o,n=this;for(var i in r)o=new t({}),this.loadData(i,o),e&&setInterval(function(){n.loadData(i,o)},e),r[i].call({},o)};n.prototype.loadData=function(t,e){r.ajax(t).then(function(t){e.set(t)})};var i=function(t){t.find("[data-src]").each(this._dynamicize.bind(this))};i.start=function(){new i(r(document.body))},i.errors={ErrorNoController:function(t){Error.call(this),this.message="No data controller exists for: "+t}},i.errors.ErrorNoController.prototype=Object.create(Error.prototype),i.dataControllers={},i.prototype.loadController=function(t){var r=i.dataControllers[t];if(!r)throw new i.errors.ErrorNoController(t);return r},i.registerLoadMethod=function(t,r){var o=r;r=function(t,r){return new o(e,t,r)},i.dataControllers[t]=r},i.prototype._dynamicize=function(t,e){var o={},n=r(e),i=this.loadController(n.data("ctrl")||"ajax");o[n.data("src")]=function(t){n.data("attr")?t.get(n.data("attr")).bindToDom(n):n.find("[data-attr]").each(function(){t.get(r(this).data("attr")).bindToDom(r(this))})},new i(o,n.data("update")||this.updateFreq)},i.registerLoadMethod("ajax",n),t.Dynamicize=i}).call(this,this,jQuery);